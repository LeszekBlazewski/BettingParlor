<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ClientServerConnectionsHub Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="ClientServerConnectionsHub class" /><meta name="System.Keywords" content="BettingParlor_Refactor.ClientServerConnectionsHub class" /><meta name="Microsoft.Help.F1" content="BettingParlor_Refactor.ClientServerConnectionsHub" /><meta name="Microsoft.Help.Id" content="T:BettingParlor_Refactor.ClientServerConnectionsHub" /><meta name="Description" content="Inherits from class implemented in SignalR framework. Connection hub which is the base for all server-client methods used in the programm. Contains methods which are used to properly manage all events related to client requests and responses." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="BettingParlor_Refactor" /><meta name="file" content="c168f375-1d75-3608-0ef8-ea25ca005df1" /><meta name="guid" content="c168f375-1d75-3608-0ef8-ea25ca005df1" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">BettingParlor<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\afa83212-6476-4822-b729-d2ae5c88dd08.htm" title="BettingParlor" tocid="roottoc">BettingParlor</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/2b749efc-c296-8017-3eae-49361ffdb74e.htm" title="BettingParlor_Refactor Namespaces" tocid="2b749efc-c296-8017-3eae-49361ffdb74e">BettingParlor_Refactor Namespaces</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/056f7b90-f07b-98fd-83e7-b56af24cb721.htm" title="BettingParlor_Refactor" tocid="056f7b90-f07b-98fd-83e7-b56af24cb721">BettingParlor_Refactor</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/c168f375-1d75-3608-0ef8-ea25ca005df1.htm" title="ClientServerConnectionsHub Class" tocid="c168f375-1d75-3608-0ef8-ea25ca005df1">ClientServerConnectionsHub Class</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/05c07d8e-1c40-67a7-9a09-a84c693afdc2.htm" title="ClientServerConnectionsHub Constructor " tocid="05c07d8e-1c40-67a7-9a09-a84c693afdc2">ClientServerConnectionsHub Constructor </a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/0dd0bc80-1f7b-bf62-6e82-fec02b1c6c17.htm" title="ClientServerConnectionsHub Properties" tocid="0dd0bc80-1f7b-bf62-6e82-fec02b1c6c17">ClientServerConnectionsHub Properties</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/be61a37d-2f4d-4f24-75a6-97fd53537ecf.htm" title="ClientServerConnectionsHub Methods" tocid="be61a37d-2f4d-4f24-75a6-97fd53537ecf">ClientServerConnectionsHub Methods</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/466375a2-96b9-061e-b04e-4e50b1a9c06f.htm" title="ClientServerConnectionsHub Fields" tocid="466375a2-96b9-061e-b04e-4e50b1a9c06f">ClientServerConnectionsHub Fields</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img src="../icons/Help.png" /></td><td class="titleColumn"><h1>ClientServerConnectionsHub Class</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
            Inherits from <a href="http://msdn2.microsoft.com/en-us/library/jj890869" target="_blank">Hub</a> class implemented in SignalR framework.
            Connection hub which is the base for all server-client methods used in the programm.
            Contains methods which are used to properly manage all events related to client requests and responses.
            Class contains all server methods which are used by administrator to push information to clients.
            </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LST1FB32B39_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST1FB32B39_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="nolink">HubBase</span><br />    <a href="http://msdn2.microsoft.com/en-us/library/jj890869" target="_blank">Hub</a><br />      <span class="selflink">BettingParlor_Refactor<span id="LST1FB32B39_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST1FB32B39_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>ClientServerConnectionsHub</span><br /></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="056f7b90-f07b-98fd-83e7-b56af24cb721.htm">BettingParlor_Refactor</a><br />
    <strong>Assembly:</strong>
   BettingParlor-Refactor (in BettingParlor-Refactor.exe) Version: 1.0.0.0 (1.0.0.0)<p>The <span class="selflink">ClientServerConnectionsHub</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Constructors</span></div><div id="ID1RBSection" class="collapsibleSection"><table class="members" id="constructorList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="05c07d8e-1c40-67a7-9a09-a84c693afdc2.htm">ClientServerConnectionsHub</a></td><td><div class="summary">Initializes a new instance of the <span class="selflink">ClientServerConnectionsHub</span> class</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="ID2RBSection" class="collapsibleSection"><table class="members" id="propertyList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/jj908513" target="_blank">Clients</a></td><td><div class="summary" /> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/jj890869" target="_blank">Hub</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><span class="nolink">Context</span></td><td><div class="summary">
            Provides information about the calling client.
            </div> (Inherited from <span class="nolink">HubBase</span>.)</td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="7160d89c-a23a-4364-c93b-dba57b822413.htm">FormServer</a></td><td><div class="summary">
            Property used to access form of the administrator and write logs to his console.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><span class="nolink">Groups</span></td><td><div class="summary">
            The group manager for this hub instance.
            </div> (Inherited from <span class="nolink">HubBase</span>.)</td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Methods</span></div><div id="ID3RBSection" class="collapsibleSection"><table class="members" id="methodList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="9cad5c17-aa70-fb6c-e825-68cd3b92b813.htm">AddCashToAdminAccountInDatabase</a></td><td><div class="summary">
            Adds cash to administrator account stored in database.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="aae91f97-55db-4ea3-29dd-b7e1c9888163.htm">AddCashToCurrentCallerAccount</a></td><td><div class="summary">
            Sends a request to server to update cash in client object on server and in database.
            </div></td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="c823412a-8780-4266-c5e9-ceed74cdb9e6.htm">CollectClientBetsAfterRaceEnd</a></td><td><div class="summary">
            Collects bet for each player object stored in dictionary on server.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><span class="nolink">Dispose<span id="LST1FB32B39_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST1FB32B39_2?cs=()|vb=|cpp=()|nu=()|fs=()");</script></span></td><td> (Inherited from <span class="nolink">HubBase</span>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><span class="nolink">Dispose(Boolean)</span></td><td> (Inherited from <span class="nolink">HubBase</span>.)</td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="91295dab-30f7-67e4-0661-96ee2e0b6bad.htm">EndRaceOnClientForm</a></td><td><div class="summary">
            Resets the controls on client form after the race has finished and displays dog which won the race.
            </div></td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="4fe6c15b-91c7-0393-9856-bcdcc4d31988.htm">GetAdminAccountBalance</a></td><td><div class="summary">
            Returns admin current account balance withdrawed from database.
            Used when creating administrator object to initialize his cash properly.
            </div></td></tr><tr data="private;declared;notNetfw;"><td><img src="../icons/privmethod.gif" alt="Private method" title="Private method" /></td><td><a href="dee0d923-b7ba-74d1-3040-6eefa69f90ad.htm">JoinGroup</a></td><td><div class="summary">
            Used to add users who connected succesfuly to server to group which is created when first client signs in.
            </div></td></tr><tr data="private;declared;notNetfw;"><td><img src="../icons/privmethod.gif" alt="Private method" title="Private method" /></td><td><a href="93a297d0-62dd-842e-9d10-7b7cc8338ec2.htm">LeaveGroup</a></td><td><div class="summary">
            Used to remove user from group who managed to disconnect successfully from the server.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="12e21390-d5e6-55a6-0ba6-20b7792de66f.htm">OnConnected</a></td><td><div class="summary">
            First function wich is used when client connects to server.
            Checks whether user should be allowed to join the game or not.
            </div> (Overrides <span class="nolink">HubBase.OnConnected<span id="LST1FB32B39_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST1FB32B39_3?cs=()|vb=|cpp=()|nu=()|fs=()");</script></span>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="e0f968c4-253b-9f8b-fa4f-46946ed676bf.htm">OnDisconnected<span id="LST1FB32B39_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST1FB32B39_4?cs=()|vb=|cpp=()|nu=()|fs=()");</script></a></td><td><div class="summary">
            Fired when client disconnects.
            Removes client from connected clients group nad his object from dictionary on server.
            </div> (Overrides <span class="nolink">HubBase.OnDisconnected<span id="LST1FB32B39_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST1FB32B39_5?cs=()|vb=|cpp=()|nu=()|fs=()");</script></span>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><span class="nolink">OnDisconnected(Boolean)</span></td><td><div class="summary">
            Called when a connection disconnects from this hub instance.
            </div> (Inherited from <span class="nolink">HubBase</span>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><span class="nolink">OnReconnected</span></td><td><div class="summary">
            Called when the connection reconnects to this hub instance.
            </div> (Inherited from <span class="nolink">HubBase</span>.)</td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="6b4c4eae-a261-cc55-44af-21a71794f14d.htm">PlaceAdminBet</a></td><td><div class="summary">
            Sends administrator bet to database to display it in dataGriedView.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="0249a318-8e03-c92f-7c19-d57a61af4ebd.htm">PlaceBetOfTheCurrentCaller</a></td><td><div class="summary">
            Send request to server to place bet of the current calling client.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="3425a58f-41be-e3cc-b368-fb41d5cbe8cc.htm">Send</a></td><td><div class="summary">
            Responsible for passing messages from one player to all connected users.
            </div></td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="f0cd0aba-8a97-ad13-4f8a-f787a72de98e.htm">SendAdminCurrentAccountBalanceToDatabase</a></td><td><div class="summary">
            Updates admin cash in database after the race has finished.
            </div></td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="3fa5da10-49b8-0631-ce2e-b432d1b62e69.htm">SendDogsLocationToAllPlayers</a></td><td><div class="summary">
            Pushes dog data to all connected clients to update position of each dog on client's forms.
            </div></td></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="a48201f4-e41c-3d0f-5f28-800aa4706a1f.htm">SendNotificationRace</a></td><td><div class="summary">
            Used by administrator to inform clients whether the race starts or handicapPanel should be disabled.
            </div></td></tr><tr data="private;static;declared;notNetfw;"><td><img src="../icons/privmethod.gif" alt="Private method" title="Private method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="f212881d-e4aa-fb73-4bfc-410cf5f58ee0.htm">UpdateClientsBetTable</a></td><td><div class="summary">
            Sends notification to all connected users to refresh their dataGriedViewBets.
            Used every time player places bet to display it in all client forms.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="ced0b71a-a81b-8018-8eae-3798aadc779d.htm">UpdateCurrentCallerLabel</a></td><td><div class="summary">
            Send request to recive current account balance of calling client and update label which shows account balance on his form.
            </div></td></tr><tr data="private;declared;notNetfw;"><td><img src="../icons/privmethod.gif" alt="Private method" title="Private method" /></td><td><a href="3212a2c1-39a8-82e3-6d5a-cd162f6f451c.htm">WriteToAdminConsole</a></td><td><div class="summary">
            Functions is responsible for displaying current clients logs in admin console.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Fields</span></div><div id="ID4RBSection" class="collapsibleSection"><table class="members" id="fieldList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="private;static;declared;notNetfw;"><td><img src="../icons/privfield.gif" alt="Private field" title="Private field" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="2a1838a7-8fd8-df02-62e2-3e9b795e1217.htm">connectedClientsGroup</a></td><td><div class="summary">
            Name of group which stores connected clients.
            Group is created automatically by SignalR framework.
            Group allows easy management with all clients who successfully established connection.
            It prevents sending data to clients which are not fully prepared to receive it
            </div></td></tr><tr data="private;static;declared;notNetfw;"><td><img src="../icons/privfield.gif" alt="Private field" title="Private field" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="81d2bd02-e52a-f62c-0471-6515be51ccdb.htm">hubContext</a></td><td><div class="summary">
            Proxy used to access hub correctly.
            </div></td></tr><tr data="private;static;declared;notNetfw;"><td><img src="../icons/privfield.gif" alt="Private field" title="Private field" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="77b51d4e-cbf0-a123-6217-a12f8f96f0c4.htm">loadUserData</a></td><td><div class="summary">
            Responisble for withdrawing user data from database.
            </div></td></tr><tr data="private;static;declared;notNetfw;"><td><img src="../icons/privfield.gif" alt="Private field" title="Private field" /><img src="../icons/static.gif" alt="Static member" title="Static member" /></td><td><a href="0b6737b2-d688-8aeb-e51c-4c6752e7df75.htm">manageUserData</a></td><td><div class="summary">
            Responisble for mantaining client operations.
            </div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="056f7b90-f07b-98fd-83e7-b56af24cb721.htm">BettingParlor_Refactor Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>